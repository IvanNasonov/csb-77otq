(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var c=a(34),s=a.n(c),n=a(1),r=a(3),i=a(11),u=a(5),o=function(){var e=Math.floor(1e5*Math.random()).toString(10);if(e.length<6)for(var t=1;t<=7-e.length;t++)e="0"+e;return setTimeout((function(){return alert("Your code is: "+e)}),1e3),console.log("Your code is: "+e),e},l=a(35),d=a(36),p=new(function(){function e(){Object(l.a)(this,e),this.authenticated=!1,this.passedOTPCheck=!1}return Object(d.a)(e,[{key:"authenticate",value:function(){this.authenticated=!0}},{key:"passOTPCheck",value:function(){this.passedOTPCheck=!0}},{key:"eraseOTPCheck",value:function(){this.passedOTPCheck=!1}},{key:"logout",value:function(){this.authenticated=!1,this.passedOTPChaeck=!1}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),j=a(0),b=function(e){return Object(j.jsxs)("div",{className:"input-wrapper",children:[Object(j.jsx)("input",{className:e.className,id:e.myId,type:e.type,value:e.value,onChange:function(t){return e.handleChange(t)},required:!0}),Object(j.jsx)("label",{htmlFor:e.type,className:"input-label",children:e.label})]})},h=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)((function(){return o()})),i=Object(u.a)(r,2),l=i[0],d=i[1],h=Object(n.useState)(120),O=Object(u.a)(h,2),m=O[0],f=O[1],x=Object(n.useState)(!1),y=Object(u.a)(x,2),v=y[0],g=y[1],N=Object(n.useState)(!1),w=Object(u.a)(N,2),k=w[0],S=w[1];Object(n.useEffect)((function(){var e=setInterval((function(){m>0?f(m-1):g(!0)}),1e3);return function(){return clearInterval(e)}}),[m]);return Object(j.jsx)("div",{className:"otp-wrapper",children:Object(j.jsxs)("div",{className:"otp",children:[Object(j.jsx)("h1",{id:"otp-header",children:"Enter code form SMS"}),Object(j.jsx)("h2",{id:"time-display",children:m>0?"Your code will expire in: "+m+" seconds":"Your code has expired"}),Object(j.jsx)(b,{className:k?"input-field failed-auth":"input-field",myId:"otp-check",label:"Enter code here:",value:c,handleChange:function(e){s(e.target.value)}}),Object(j.jsx)("button",{className:"button",onClick:function(){v||l!==c?S(!0):(p.passOTPCheck(),e.history.push("/main/page=1"))},children:"Submit"}),Object(j.jsx)("button",{id:"verification-code-button",className:"button",onClick:function(){d(o()),g(!1),f(120)},children:"Send another code"})]})})},O=a(6),m=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=function(e){"password"===e.target.type?s(Object(O.a)(Object(O.a)({},c),{},{password:e.target.value})):s(Object(O.a)(Object(O.a)({},c),{},{email:e.target.value.toLowerCase()}))};return Object(j.jsx)("div",{className:"login-wrapper",children:Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)(b,{className:o?"input-field failed-auth":"input-field",myId:"email",type:"",label:"Email",value:c.email,handleChange:function(e){return d(e)}}),Object(j.jsx)(b,{className:o?"input-field failed-auth":"input-field",id:"password",type:"password",label:"Password",value:c.password,handleChange:function(e){return d(e)}}),Object(j.jsx)("button",{className:"button",onClick:function(){"kode@kode.ru"===c.email&&"Enk0deng"===c.password?(p.authenticate(),p.eraseOTPCheck(),e.history.push("/otp")):l(!0)},children:"Log in"}),Object(j.jsx)("p",{className:o?"failed-auth-text failed":"failed-auth-text",children:"Your email or password are not correct, please try again"})]})})},f=a(12),x=a(4),y=a.n(x),v=a(9),g=function(e){return Object(j.jsx)(i.b,{to:"/card/id="+e.id,children:Object(j.jsx)("div",{className:"card-wrapper",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{className:"card-image",src:e.imageUrl,alt:e.name+"card"}),Object(j.jsx)("h1",{className:"card-name",children:e.name}),Object(j.jsxs)("h2",{className:"card-artist",children:["Art by ",e.artist]})]})})})},N=a(39),w=a(40),k=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),o=i[0],l=i[1],d=function(t,a){return Object(j.jsx)("div",{className:e.selectedTypes.includes(t)?"type-item selected":"type-item",onClick:function(){return e.selectType(t)},children:Object(j.jsx)("p",{className:"type-item-text",children:t})},a)};return Object(j.jsxs)("div",{className:c?"type-select open":"type-select",children:[Object(j.jsx)("p",{className:"type-select-text",children:e.text}),Object(j.jsx)(N.a,{onClick:function(){return s(!c)},className:c?"type-select-icon open":"type-select-icon",icon:w.a}),Object(j.jsxs)("div",{className:c?"type-list":"type-list closed",children:[Object(j.jsx)("input",{className:"search",type:"search",placeholder:"Search...",onChange:function(e){return function(e){l(e.target.value)}(e)}}),e.selectedTypes===[]?null:e.selectedTypes.map((function(e,t){return d(e,t)})),""!==o?e.types.filter((function(e){return e.toLowerCase().includes(o.toLowerCase())})).map((function(e,t){return d(e,t)})):e.types.map((function(e,t){return d(e,t)}))]})]})},S=function(e){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(k,{text:"Select type",types:e.types,selectedTypes:e.selectedTypes,selectType:e.selectType}),Object(j.jsx)(k,{text:"Select subtype",types:e.subtypes,selectedTypes:e.selectedSubtypes,selectType:e.selectSubtype}),Object(j.jsx)("button",{id:"logout",className:"button",onClick:e.logout,children:"Log out"})]})},T=a(16),C=function(){var e=Object(v.a)(y.a.mark((function e(){var t,a,c,s,n=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:[],c=n.length>2&&void 0!==n[2]?n[2]:[],e.next=5,T({method:"get",url:"https://api.pokemontcg.io/v2/cards?q=".concat(a.map((function(e){return"%20types:"+e})).join("")).concat(c.map((function(e){return"%20subtypes:"+e})).join(""),"&page=").concat(t,"&pageSize=18"),headers:{"X-Api-Key":"4d6e33b2-b46f-4b28-814d-786e33f19bc1"}});case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=a(16),E=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({type:"get",url:"https://api.pokemontcg.io/v2/types",headers:{"X-Api-Key":"4d6e33b2-b46f-4b28-814d-786e33f19bc1"}});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=a(16),I=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({type:"get",url:"https://api.pokemontcg.io/v2/subtypes",headers:{"X-Api-Key":"4d6e33b2-b46f-4b28-814d-786e33f19bc1"}});case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e,t){var a=[],c=Math.ceil(t/18),s=parseInt(e,10);if(s<5)a=[1,2,3,4,5,"..",c];else if(s>c-4||s>c){for(var n=c-4;n<=c;n++)a.push(n);a=[1,".."].concat(Object(f.a)(a))}else{for(var r=s-2;r<=s+2;r++)a.push(r);a=[1,".."].concat(Object(f.a)(a),["..",c])}return a.map((function(e,t){return e===s?Object(j.jsx)("span",{className:"current-page",children:e},t):Number.isInteger(e)?Object(j.jsx)(i.b,{to:"/main/page="+e,className:"page-link",children:e},t):Object(j.jsx)("span",{className:"blank-pages",children:e},t)}))},Y=function(){return Object(j.jsx)("div",{className:"card-loading-wrapper",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"image-loading"}),Object(j.jsx)("div",{className:"name-loading"}),Object(j.jsx)("div",{className:"artist-loading"})]})})},K=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)({types:[],subtypes:[],selectedTypes:[],selectedSubtypes:[]}),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)([]),b=Object(u.a)(d,2),h=b[0],m=b[1],x=Object(n.useState)(!1),N=Object(u.a)(x,2),w=N[0],k=N[1],T=function(){var t=Object(v.a)(y.a.mark((function t(){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!1),a=e.match.params.page,t.next=4,C(a,o.selectedTypes,o.selectedSubtypes);case 4:c=t.sent,s(c),m(L(a,c.totalCount)),k(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,e.next=5,I();case 5:a=e.sent,l(Object(O.a)(Object(O.a)({},o),{},{types:t,subtypes:a}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){P()}),[]),Object(n.useEffect)((function(){T()}),[e.history.location,o.selectedTypes,o.selectedSubtypes]),Object(j.jsxs)("div",{children:[Object(j.jsx)(S,{logout:function(){p.logout(),e.history.push("/")},types:o.types,subtypes:o.subtypes,selectedTypes:o.selectedTypes,selectedSubtypes:o.selectedSubtypes,selectType:function(e){o.selectedTypes.includes(e)?l(Object(O.a)(Object(O.a)({},o),{},{types:[].concat(Object(f.a)(o.types),[e]).sort(),selectedTypes:o.selectedTypes.filter((function(t){return t!==e}))})):l(Object(O.a)(Object(O.a)({},o),{},{types:o.types.filter((function(t){return t!==e})),selectedTypes:[].concat(Object(f.a)(o.selectedTypes),[e]).sort()}))},selectSubtype:function(e){o.selectedSubtypes.includes(e)?l(Object(O.a)(Object(O.a)({},o),{},{subtypes:[].concat(Object(f.a)(o.subtypes),[e]).sort(),selectedSubtypes:o.selectedSubtypes.filter((function(t){return t!==e}))})):l(Object(O.a)(Object(O.a)({},o),{},{subtypes:o.subtypes.filter((function(t){return t!==e})),selectedSubtypes:[].concat(Object(f.a)(o.selectedSubtypes),[e]).sort()}))}}),Object(j.jsx)("div",{className:"card-display",children:w?0===c.data.length?Object(j.jsx)("h1",{className:"not-found",children:"Cards not found"}):c.data.map((function(e,t){return Object(j.jsx)(g,{id:e.id,name:e.name,artist:e.artist,imageUrl:e.images.small},t)})):function(){for(var e=[],t=1;t<=18;t++)e.push(Object(j.jsx)(Y,{},t));return e}()}),Object(j.jsx)("div",{id:"paginator",children:w?h:"Loading..."})]})},M=a(16),X=function(){var e=Object(v.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({type:"get",url:"https://api.pokemontcg.io/v2/cards/".concat(t),headers:{"X-Api-Key":"4d6e33b2-b46f-4b28-814d-786e33f19bc1"}});case 2:return a=e.sent,console.log(a),e.abrupt("return",a.data.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=Object(r.f)();return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("button",{id:"back-button",className:"button",onClick:function(){t.goBack()},children:"Back"}),Object(j.jsx)("div",{}),Object(j.jsx)("button",{id:"logout-card-view",className:"button",onClick:function(){return p.logout(),void t.push("/")},children:"Log out"})]})},F=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=function(){var t=Object(v.a)(y.a.mark((function t(){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id,console.log(a),l(!1),t.next=5,X(a);case 5:n=t.sent,s(n),console.log(c),l(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B,{}),o?Object(j.jsxs)("div",{className:"card-view",children:[Object(j.jsx)("div",{className:"image-wrapper",children:Object(j.jsx)("img",{className:"card-view-image",src:c.images.large,alt:"pokemon card"})}),Object(j.jsxs)("div",{className:"info-wrapper",children:[Object(j.jsxs)("div",{id:"type-info",className:"card-view-info",children:[Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Pokemon name: "}),c.name?c.name:"-"]}),Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Supertype: "}),c.supertype?c.supertype:"-"]}),Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Type: "}),c.types?c.types.join(", "):"-"]}),Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Sub-type: "}),c.subtypes?c.subtypes.join(", "):"-"]})]}),Object(j.jsxs)("div",{id:"stats-info",className:"card-view-info",children:[Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Attack damage: "}),c.attacks?c.attacks.map((function(e){return e.damage?e.name+" - "+e.damage:e.name+" - 0"})).join(", "):"-"]}),Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Attack cost: "}),c.attacks?c.attacks.map((function(e){return e.name+" - "+e.convertedEnergyCost})).join(", "):"-"]}),Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Weaknesses: "}),c.weaknesses?c.weaknesses.map((function(e){return e.type+" - "+e.value})).join(", "):"-"]}),Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"HP: "}),c.hp?c.hp:"-"]})]}),Object(j.jsx)("div",{id:"description",className:"card-view-info",children:Object(j.jsxs)("p",{className:"card-view-text",children:[Object(j.jsx)("span",{className:"card-view-title",children:"Description: "}),c.flavorText?c.flavorText:c.rules?c.rules:"-"]})})]})]}):Object(j.jsx)("p",{children:"Loading..."})]})},q=a(41),J=["component"],U=function(e){var t=e.component,a=Object(q.a)(e,J);return Object(j.jsx)(r.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){return p.authenticated&&p.passedOTPCheck?Object(j.jsx)(t,Object(O.a)({},e)):p.authenticated?Object(j.jsx)(r.a,{exact:!0,to:{pathname:"/otp",state:{from:e.location}}}):Object(j.jsx)(r.a,{exact:!0,to:{pathname:"/",state:{from:e.location}}})}}))},z=(a(71),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.b,{exact:!0,path:"/",component:m}),Object(j.jsx)(r.b,{exact:!0,path:"/otp",component:h}),Object(j.jsx)(U,{exact:!0,path:"/main/page=:page",component:K}),Object(j.jsx)(U,{exact:!0,path:"/card/id=:id",component:F})]})}),D=document.getElementById("root");s.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(z,{})}),D)}},[[72,1,2]]]);
//# sourceMappingURL=main.4fad53a9.chunk.js.map